import{_ as lt,r as ee,a as De,o as ct,j as dt,c as re,d as L,b as l,h as Ve,t as K,w as W,v as we,k as vt,l as Ae,E as te,f as pe,z as mt,g as ae,m as ge,A as Fe,e as ut,D as Be,p as ft,G as ht,H as pt,I as gt,J as yt,K as bt,M as _t}from"./index-Bt0verpb.js";import{A as wt}from"./AdminNavBar-B2tiYlU-.js";import{P as G,D as Ge,r as He,a as Ze,d as Ct,S as Ue,b as Ye,l as Me,n as Dt,c as At,g as St,i as Re,p as oe,m as Je,e as Se,f as Ke,s as xt,_ as Oe,Z as It,h as ue,j as xe,k as Pe,u as We,o as Lt,q as Tt,t as Nt,v as Mt,w as Pt,x as zt,y as Qe,z as kt,C as Et,A as Rt,B as Ot,E as Xe,F as et,G as $t,H as Vt,I as Ft,J as Bt,K as Gt,L as Ht,M as ze,N as Ut,O as Yt,Q as Wt,R as Xt,T as jt,U as qt,V as Zt,W as Jt,X as Kt,Y as Qt,$ as ea,a0 as Ie,a1 as Ce}from"./installCanvasRenderer-9PKGsH8D.js";function tt(n,o,r,t,i,d,s,c){var m=i-n,p=d-o,u=r-n,w=t-o,_=Math.sqrt(u*u+w*w);u/=_,w/=_;var v=m*u+p*w,f=v/_;f*=_;var y=s[0]=n+f*u,g=s[1]=o+f*w;return Math.sqrt((y-i)*(y-i)+(g-d)*(g-d))}var fe=new G,R=new G,B=new G,he=new G,se=new G,Te=[],X=new G;function ta(n,o){if(o<=180&&o>0){o=o/180*Math.PI,fe.fromArray(n[0]),R.fromArray(n[1]),B.fromArray(n[2]),G.sub(he,fe,R),G.sub(se,B,R);var r=he.len(),t=se.len();if(!(r<.001||t<.001)){he.scale(1/r),se.scale(1/t);var i=he.dot(se),d=Math.cos(o);if(d<i){var s=tt(R.x,R.y,B.x,B.y,fe.x,fe.y,Te);X.fromArray(Te),X.scaleAndAdd(se,s/Math.tan(Math.PI-o));var c=B.x!==R.x?(X.x-R.x)/(B.x-R.x):(X.y-R.y)/(B.y-R.y);if(isNaN(c))return;c<0?G.copy(X,R):c>1&&G.copy(X,B),X.toArray(n[1])}}}}function aa(n,o,r){if(r<=180&&r>0){r=r/180*Math.PI,fe.fromArray(n[0]),R.fromArray(n[1]),B.fromArray(n[2]),G.sub(he,R,fe),G.sub(se,B,R);var t=he.len(),i=se.len();if(!(t<.001||i<.001)){he.scale(1/t),se.scale(1/i);var d=he.dot(o),s=Math.cos(r);if(d<s){var c=tt(R.x,R.y,B.x,B.y,fe.x,fe.y,Te);X.fromArray(Te);var m=Math.PI/2,p=Math.acos(se.dot(o)),u=m+p-r;if(u>=m)G.copy(X,B);else{X.scaleAndAdd(se,c/Math.tan(Math.PI/2-u));var w=B.x!==R.x?(X.x-R.x)/(B.x-R.x):(X.y-R.y)/(B.y-R.y);if(isNaN(w))return;w<0?G.copy(X,R):w>1&&G.copy(X,B)}X.toArray(n[1])}}}}function ke(n,o,r,t){var i=r==="normal",d=i?n:n.ensureState(r);d.ignore=o;var s=t.get("smooth");s&&s===!0&&(s=.3),d.shape=d.shape||{},s>0&&(d.shape.smooth=s);var c=t.getModel("lineStyle").getLineStyle();i?n.useStyle(c):d.style=c}function sa(n,o){var r=o.smooth,t=o.points;if(t)if(n.moveTo(t[0][0],t[0][1]),r>0&&t.length>=3){var i=Ye(t[0],t[1]),d=Ye(t[1],t[2]);if(!i||!d){n.lineTo(t[1][0],t[1][1]),n.lineTo(t[2][0],t[2][1]);return}var s=Math.min(i,d)*r,c=Me([],t[1],t[0],s/i),m=Me([],t[1],t[2],s/d),p=Me([],c,m,.5);n.bezierCurveTo(c[0],c[1],c[0],c[1],p[0],p[1]),n.bezierCurveTo(m[0],m[1],m[0],m[1],t[2][0],t[2][1])}else for(var u=1;u<t.length;u++)n.lineTo(t[u][0],t[u][1])}function na(n,o,r){var t=n.getTextGuideLine(),i=n.getTextContent();if(!i){t&&n.removeTextGuideLine();return}for(var d=o.normal,s=d.get("show"),c=i.ignore,m=0;m<Ge.length;m++){var p=Ge[m],u=o[p],w=p==="normal";if(u){var _=u.get("show"),v=w?c:He(i.states[p]&&i.states[p].ignore,c);if(v||!He(_,s)){var f=w?t:t&&t.states[p];f&&(f.ignore=!0),t&&ke(t,!0,p,u);continue}t||(t=new Ze,n.setTextGuideLine(t),!w&&(c||!s)&&ke(t,!0,"normal",o.normal),n.stateProxy&&(t.stateProxy=n.stateProxy)),ke(t,!1,p,u)}}if(t){Ct(t.style,r),t.style.fill=null;var y=d.get("showAbove"),g=n.textGuideLineConfig=n.textGuideLineConfig||{};g.showAbove=y||!1,t.buildPath=sa}}function ra(n,o){o=o||"labelLine";for(var r={normal:n.getModel(o)},t=0;t<Ue.length;t++){var i=Ue[t];r[i]=n.getModel([i,o])}return r}var je=Math.PI*2,Le=Math.PI/180;function at(n,o){return St(n.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})}function st(n,o){var r=at(n,o),t=n.get("center"),i=n.get("radius");Re(i)||(i=[0,i]);var d=oe(r.width,o.getWidth()),s=oe(r.height,o.getHeight()),c=Math.min(d,s),m=oe(i[0],c/2),p=oe(i[1],c/2),u,w,_=n.coordinateSystem;if(_){var v=_.dataToPoint(t);u=v[0]||0,w=v[1]||0}else Re(t)||(t=[t,t]),u=oe(t[0],d)+r.x,w=oe(t[1],s)+r.y;return{cx:u,cy:w,r0:m,r:p}}function oa(n,o,r){o.eachSeriesByType(n,function(t){var i=t.getData(),d=i.mapDimension("value"),s=at(t,r),c=st(t,r),m=c.cx,p=c.cy,u=c.r,w=c.r0,_=-t.get("startAngle")*Le,v=t.get("endAngle"),f=t.get("padAngle")*Le;v=v==="auto"?_-je:-v*Le;var y=t.get("minAngle")*Le,g=y+f,D=0;i.each(d,function(Y){!isNaN(Y)&&D++});var T=i.getSum(d),I=Math.PI/(T||D)*2,k=t.get("clockwise"),z=t.get("roseType"),O=t.get("stillShowZeroSum"),V=i.getDataExtent(d);V[0]=0;var x=k?1:-1,M=[_,v],U=x*f/2;Dt(M,!k),_=M[0],v=M[1];var ne=nt(t);ne.startAngle=_,ne.endAngle=v,ne.clockwise=k;var Z=Math.abs(v-_),j=Z,ie=0,H=_;if(i.setLayout({viewRect:s,r:u}),i.each(d,function(Y,$){var P;if(isNaN(Y)){i.setItemLayout($,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:k,cx:m,cy:p,r0:w,r:z?NaN:u});return}z!=="area"?P=T===0&&O?I:Y*I:P=Z/D,P<g?(P=g,j-=g):ie+=Y;var E=H+x*P,a=0,e=0;f>P?(a=H+x*P/2,e=a):(a=H+U,e=E-U),i.setItemLayout($,{angle:P,startAngle:a,endAngle:e,clockwise:k,cx:m,cy:p,r0:w,r:z?At(Y,V,[w,u]):u}),H=E}),j<je&&D)if(j<=.001){var Q=Z/D;i.each(d,function(Y,$){if(!isNaN(Y)){var P=i.getItemLayout($);P.angle=Q;var E=0,a=0;Q<f?(E=_+x*($+1/2)*Q,a=E):(E=_+x*$*Q+U,a=_+x*($+1)*Q-U),P.startAngle=E,P.endAngle=a}})}else I=j/ie,H=_,i.each(d,function(Y,$){if(!isNaN(Y)){var P=i.getItemLayout($),E=P.angle===g?g:Y*I,a=0,e=0;E<f?(a=H+x*E/2,e=a):(a=H+U,e=H+x*E-U),P.startAngle=a,P.endAngle=e,H+=x*E}})})}var nt=Je();function ia(n){return{seriesType:n,reset:function(o,r){var t=r.findComponents({mainType:"legend"});if(!(!t||!t.length)){var i=o.getData();i.filterSelf(function(d){for(var s=i.getName(d),c=0;c<t.length;c++)if(!t[c].isSelected(s))return!1;return!0})}}}}var la=Math.PI/180;function qe(n,o,r,t,i,d,s,c,m,p){if(n.length<2)return;function u(y){for(var g=y.rB,D=g*g,T=0;T<y.list.length;T++){var I=y.list[T],k=Math.abs(I.label.y-r),z=t+I.len,O=z*z,V=Math.sqrt(Math.abs((1-k*k/D)*O)),x=o+(V+I.len2)*i,M=x-I.label.x,U=I.targetTextWidth-M*i;rt(I,U,!0),I.label.x=x}}function w(y){for(var g={list:[],maxY:0},D={list:[],maxY:0},T=0;T<y.length;T++)if(y[T].labelAlignTo==="none"){var I=y[T],k=I.label.y>r?D:g,z=Math.abs(I.label.y-r);if(z>=k.maxY){var O=I.label.x-o-I.len2*i,V=t+I.len,x=Math.abs(O)<V?Math.sqrt(z*z/(1-O*O/V/V)):V;k.rB=x,k.maxY=z}k.list.push(I)}u(g),u(D)}for(var _=n.length,v=0;v<_;v++)if(n[v].position==="outer"&&n[v].labelAlignTo==="labelLine"){var f=n[v].label.x-p;n[v].linePoints[1][0]+=f,n[v].label.x=p}xt(n,m,m+s)&&w(n)}function ca(n,o,r,t,i,d,s,c){for(var m=[],p=[],u=Number.MAX_VALUE,w=-Number.MAX_VALUE,_=0;_<n.length;_++){var v=n[_].label;Ee(n[_])||(v.x<o?(u=Math.min(u,v.x),m.push(n[_])):(w=Math.max(w,v.x),p.push(n[_])))}for(var _=0;_<n.length;_++){var f=n[_];if(!Ee(f)&&f.linePoints){if(f.labelStyleWidth!=null)continue;var v=f.label,y=f.linePoints,g=void 0;f.labelAlignTo==="edge"?v.x<o?g=y[2][0]-f.labelDistance-s-f.edgeDistance:g=s+i-f.edgeDistance-y[2][0]-f.labelDistance:f.labelAlignTo==="labelLine"?v.x<o?g=u-s-f.bleedMargin:g=s+i-w-f.bleedMargin:v.x<o?g=v.x-s-f.bleedMargin:g=s+i-v.x-f.bleedMargin,f.targetTextWidth=g,rt(f,g)}}qe(p,o,r,t,1,i,d,s,c,w),qe(m,o,r,t,-1,i,d,s,c,u);for(var _=0;_<n.length;_++){var f=n[_];if(!Ee(f)&&f.linePoints){var v=f.label,y=f.linePoints,D=f.labelAlignTo==="edge",T=v.style.padding,I=T?T[1]+T[3]:0,k=v.style.backgroundColor?0:I,z=f.rect.width+k,O=y[1][0]-y[2][0];D?v.x<o?y[2][0]=s+f.edgeDistance+z+f.labelDistance:y[2][0]=s+i-f.edgeDistance-z-f.labelDistance:(v.x<o?y[2][0]=v.x+f.labelDistance:y[2][0]=v.x-f.labelDistance,y[1][0]=y[2][0]+O),y[1][1]=y[2][1]=v.y}}}function rt(n,o,r){if(r===void 0&&(r=!1),n.labelStyleWidth==null){var t=n.label,i=t.style,d=n.rect,s=i.backgroundColor,c=i.padding,m=c?c[1]+c[3]:0,p=i.overflow,u=d.width+(s?0:m);if(o<u||r){var w=d.height;if(p&&p.match("break")){t.setStyle("backgroundColor",null),t.setStyle("width",o-m);var _=t.getBoundingRect();t.setStyle("width",Math.ceil(_.width)),t.setStyle("backgroundColor",s)}else{var v=o-m,f=o<u?v:r?v>n.unconstrainedWidth?null:v:null;t.setStyle("width",f)}var y=t.getBoundingRect();d.width=y.width;var g=(t.style.margin||0)+2.1;d.height=y.height+g,d.y-=(d.height-w)/2}}}function Ee(n){return n.position==="center"}function da(n){var o=n.getData(),r=[],t,i,d=!1,s=(n.get("minShowLabelAngle")||0)*la,c=o.getLayout("viewRect"),m=o.getLayout("r"),p=c.width,u=c.x,w=c.y,_=c.height;function v(O){O.ignore=!0}function f(O){if(!O.ignore)return!0;for(var V in O.states)if(O.states[V].ignore===!1)return!0;return!1}o.each(function(O){var V=o.getItemGraphicEl(O),x=V.shape,M=V.getTextContent(),U=V.getTextGuideLine(),ne=o.getItemModel(O),Z=ne.getModel("label"),j=Z.get("position")||ne.get(["emphasis","label","position"]),ie=Z.get("distanceToLabelLine"),H=Z.get("alignTo"),Q=oe(Z.get("edgeDistance"),p),Y=Z.get("bleedMargin"),$=ne.getModel("labelLine"),P=$.get("length");P=oe(P,p);var E=$.get("length2");if(E=oe(E,p),Math.abs(x.endAngle-x.startAngle)<s){Se(M.states,v),M.ignore=!0,U&&(Se(U.states,v),U.ignore=!0);return}if(f(M)){var a=(x.startAngle+x.endAngle)/2,e=Math.cos(a),b=Math.sin(a),h,N,A,S;t=x.cx,i=x.cy;var q=j==="inside"||j==="inner";if(j==="center")h=x.cx,N=x.cy,S="center";else{var J=(q?(x.r+x.r0)/2*e:x.r*e)+t,C=(q?(x.r+x.r0)/2*b:x.r*b)+i;if(h=J+e*3,N=C+b*3,!q){var F=J+e*(P+m-x.r),le=C+b*(P+m-x.r),ce=F+(e<0?-1:1)*E,de=le;H==="edge"?h=e<0?u+Q:u+p-Q:h=ce+(e<0?-ie:ie),N=de,A=[[J,C],[F,le],[ce,de]]}S=q?"center":H==="edge"?e>0?"right":"left":e>0?"left":"right"}var ve=Math.PI,me=0,be=Z.get("rotate");if(Ke(be))me=be*(ve/180);else if(j==="center")me=0;else if(be==="radial"||be===!0){var ot=e<0?-a+ve:-a;me=ot}else if(be==="tangential"&&j!=="outside"&&j!=="outer"){var ye=Math.atan2(e,b);ye<0&&(ye=ve*2+ye);var it=b>0;it&&(ye=ve+ye),me=ye-ve}if(d=!!me,M.x=h,M.y=N,M.rotation=me,M.setStyle({verticalAlign:"middle"}),q){M.setStyle({align:S});var Ne=M.states.select;Ne&&(Ne.x+=M.x,Ne.y+=M.y)}else{var _e=M.getBoundingRect().clone();_e.applyTransform(M.getComputedTransform());var $e=(M.style.margin||0)+2.1;_e.y-=$e/2,_e.height+=$e,r.push({label:M,labelLine:U,position:j,len:P,len2:E,minTurnAngle:$.get("minTurnAngle"),maxSurfaceAngle:$.get("maxSurfaceAngle"),surfaceNormal:new G(e,b),linePoints:A,textAlign:S,labelDistance:ie,labelAlignTo:H,edgeDistance:Q,bleedMargin:Y,rect:_e,unconstrainedWidth:_e.width,labelStyleWidth:M.style.width})}V.setTextConfig({inside:q})}}),!d&&n.get("avoidLabelOverlap")&&ca(r,t,i,m,p,_,u,w);for(var y=0;y<r.length;y++){var g=r[y],D=g.label,T=g.labelLine,I=isNaN(D.x)||isNaN(D.y);if(D){D.setStyle({align:g.textAlign}),I&&(Se(D.states,v),D.ignore=!0);var k=D.states.select;k&&(k.x+=D.x,k.y+=D.y)}if(T){var z=g.linePoints;I||!z?(Se(T.states,v),T.ignore=!0):(ta(z,g.minTurnAngle),aa(z,g.surfaceNormal,g.maxSurfaceAngle),T.setShape({points:z}),D.__hostTarget.textGuideLineConfig={anchor:new G(z[0][0],z[0][1])})}}}var va=function(n){Oe(o,n);function o(r,t,i){var d=n.call(this)||this;d.z2=2;var s=new It;return d.setTextContent(s),d.updateData(r,t,i,!0),d}return o.prototype.updateData=function(r,t,i,d){var s=this,c=r.hostModel,m=r.getItemModel(t),p=m.getModel("emphasis"),u=r.getItemLayout(t),w=ue(xe(m.getModel("itemStyle"),u,!0),u);if(isNaN(w.startAngle)){s.setShape(w);return}if(d){s.setShape(w);var _=c.getShallow("animationType");c.ecModel.ssr?(Pe(s,{scaleX:0,scaleY:0},c,{dataIndex:t,isFrom:!0}),s.originX=w.cx,s.originY=w.cy):_==="scale"?(s.shape.r=u.r0,Pe(s,{shape:{r:u.r}},c,t)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Pe(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},c,t)):(s.shape.endAngle=u.startAngle,We(s,{shape:{endAngle:u.endAngle}},c,t))}else Lt(s),We(s,{shape:w},c,t);s.useStyle(r.getItemVisual(t,"style")),Tt(s,m);var v=(u.startAngle+u.endAngle)/2,f=c.get("selectedOffset"),y=Math.cos(v)*f,g=Math.sin(v)*f,D=m.getShallow("cursor");D&&s.attr("cursor",D),this._updateLabel(c,r,t),s.ensureState("emphasis").shape=ue({r:u.r+(p.get("scale")&&p.get("scaleSize")||0)},xe(p.getModel("itemStyle"),u)),ue(s.ensureState("select"),{x:y,y:g,shape:xe(m.getModel(["select","itemStyle"]),u)}),ue(s.ensureState("blur"),{shape:xe(m.getModel(["blur","itemStyle"]),u)});var T=s.getTextGuideLine(),I=s.getTextContent();T&&ue(T.ensureState("select"),{x:y,y:g}),ue(I.ensureState("select"),{x:y,y:g}),Nt(this,p.get("focus"),p.get("blurScope"),p.get("disabled"))},o.prototype._updateLabel=function(r,t,i){var d=this,s=t.getItemModel(i),c=s.getModel("labelLine"),m=t.getItemVisual(i,"style"),p=m&&m.fill,u=m&&m.opacity;Mt(d,Pt(s),{labelFetcher:t.hostModel,labelDataIndex:i,inheritColor:p,defaultOpacity:u,defaultText:r.getFormattedLabel(i,"normal")||t.getName(i)});var w=d.getTextContent();d.setTextConfig({position:null,rotation:null}),w.attr({z2:10});var _=r.get(["label","position"]);if(_!=="outside"&&_!=="outer")d.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Ze,this.setTextGuideLine(v)),na(this,ra(s),{stroke:p,opacity:zt(c.get(["lineStyle","opacity"]),u,1)})}},o}(Qe),ma=function(n){Oe(o,n);function o(){var r=n!==null&&n.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return o.prototype.render=function(r,t,i,d){var s=r.getData(),c=this._data,m=this.group,p;if(!c&&s.count()>0){for(var u=s.getItemLayout(0),w=1;isNaN(u&&u.startAngle)&&w<s.count();++w)u=s.getItemLayout(w);u&&(p=u.startAngle)}if(this._emptyCircleSector&&m.remove(this._emptyCircleSector),s.count()===0&&r.get("showEmptyCircle")){var _=nt(r),v=new Qe({shape:ue(st(r,i),_)});v.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,m.add(v)}s.diff(c).add(function(f){var y=new va(s,f,p);s.setItemGraphicEl(f,y),m.add(y)}).update(function(f,y){var g=c.getItemGraphicEl(y);g.updateData(s,f,p),g.off("click"),m.add(g),s.setItemGraphicEl(f,g)}).remove(function(f){var y=c.getItemGraphicEl(f);kt(y,r,f)}).execute(),da(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},o.prototype.dispose=function(){},o.prototype.containPoint=function(r,t){var i=t.getData(),d=i.getItemLayout(0);if(d){var s=r[0]-d.cx,c=r[1]-d.cy,m=Math.sqrt(s*s+c*c);return m<=d.r&&m>=d.r0}},o.type="pie",o}(Et);function ua(n,o,r){o=Re(o)&&{coordDimensions:o}||ue({encodeDefine:n.getEncode()},o);var t=n.getSource(),i=Rt(t,o).dimensions,d=new Ot(i,n);return d.initData(t,r),d}var fa=function(){function n(o,r){this._getDataWithEncodedVisual=o,this._getRawData=r}return n.prototype.getAllNames=function(){var o=this._getRawData();return o.mapArray(o.getName)},n.prototype.containName=function(o){var r=this._getRawData();return r.indexOfName(o)>=0},n.prototype.indexOfName=function(o){var r=this._getDataWithEncodedVisual();return r.indexOfName(o)},n.prototype.getItemVisual=function(o,r){var t=this._getDataWithEncodedVisual();return t.getItemVisual(o,r)},n}(),ha=Je(),pa=function(n){Oe(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.prototype.init=function(r){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new fa(Xe(this.getData,this),Xe(this.getRawData,this)),this._defaultLabelLine(r)},o.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},o.prototype.getInitialData=function(){return ua(this,{coordDimensions:["value"],encodeDefaulter:et($t,this)})},o.prototype.getDataParams=function(r){var t=this.getData(),i=ha(t),d=i.seats;if(!d){var s=[];t.each(t.mapDimension("value"),function(m){s.push(m)}),d=i.seats=Vt(s,t.hostModel.get("percentPrecision"))}var c=n.prototype.getDataParams.call(this,r);return c.percent=d[r]||0,c.$vars.push("percent"),c},o.prototype._defaultLabelLine=function(r){Ft(r,"labelLine",["show"]);var t=r.labelLine,i=r.emphasis.labelLine;t.show=t.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},o.type="series.pie",o.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},o}(Bt);function ga(n){return{seriesType:n,reset:function(o,r){var t=o.getData();t.filterSelf(function(i){var d=t.mapDimension("value"),s=t.get(d,i);return!(Ke(s)&&!isNaN(s)&&s<0)})}}}function ya(n){n.registerChartView(ma),n.registerSeriesModel(pa),Gt("pie",n.registerAction),n.registerLayout(et(oa,"pie")),n.registerProcessor(ia("pie")),n.registerProcessor(ga("pie"))}const ba={class:"admin-dashboard"},_a={class:"main-content"},wa={class:"welcome-section"},Ca={class:"welcome-content"},Da={class:"welcome-text"},Aa={class:"welcome-actions"},Sa={class:"data-overview"},xa={class:"overview-content"},Ia={class:"camp-section"},La={class:"camp-info"},Ta={class:"camp-name-row"},Na={class:"camp-name"},Ma={class:"camp-timeline-container"},Pa={class:"camp-timeline"},za={class:"timeline-dates"},ka={class:"start-date"},Ea={class:"end-date"},Ra={class:"timeline-track"},Oa={class:"camp-progress-info"},$a={class:"progress-stat"},Va={class:"progress-value"},Fa={class:"progress-stat"},Ba={class:"progress-value"},Ga={class:"camp-id-display"},Ha={class:"editable-camp-id"},Ua={class:"camp-id-value"},Ya={class:"camp-id-input-wrapper"},Wa={class:"camp-navigation"},Xa={class:"stats-section"},ja={class:"stats-grid"},qa={class:"stat-card"},Za={class:"stat-info"},Ja={class:"stat-value"},Ka={class:"stat-card"},Qa={class:"stat-info"},es={class:"stat-value"},ts={class:"stat-card"},as={class:"stat-info"},ss={class:"stat-value"},ns={class:"stat-card"},rs={class:"stat-info"},os={class:"stat-value"},is={class:"marketing-stars-charts"},ls={class:"chart-header"},cs={class:"title"},ds={class:"charts-container"},vs={class:"chart-card team-chart-card"},ms={class:"chart-icon"},us={key:0,class:"no-data"},fs={class:"chart-card ambassador-chart-card"},hs={class:"chart-icon"},ps={key:0,class:"no-data"},gs={class:"charts-row-container"},ys={class:"trends-chart-section"},bs={class:"trends-chart-container"},_s={class:"chart-card trends-chart-card"},ws={class:"chart-icon"},Cs={key:0,class:"no-data"},Ds={class:"commission-chart-section"},As={class:"commission-chart-container"},Ss={class:"chart-card commission-chart-card"},xs={class:"chart-icon"},Is={key:0,class:"no-data"},Ls={__name:"AdminDashboard",setup(n){Ht([Ut,ya,Yt,Wt,Xt,jt,qt,Zt]);const o=ee(null),r=ee(!1),t=ee(!1),i=ee({username:"",role:"admin"}),d=ee(1001),s=De({totalConversions:0,totalTeams:0,totalAmbassadors:0,totalCommission:0,campInfo:{campId:"",campName:"加载中...",startDate:null,endDate:null,daysLeft:0}}),c=De({topTeams:[],topAmbassadors:[],loading:!1}),m=De({loading:!1,trendData:[],currentCampId:null}),p=De({loading:!1,dimension:"type",totalCommission:0,byType:[],campInfo:null}),u=ee(null),w=ee(null),_=ee(null),v=ee(null);let f=null,y=null,g=null;const D=ee(!1),T=a=>{if(!a)return"暂无数据";try{const e=new Date(a);return isNaN(e.getTime())?"无效日期":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}catch(e){return console.error("日期格式化错误:",e),"日期错误"}},I=a=>a==null?"0.00":Number(a).toFixed(2),k=()=>{if(!s.campInfo||!s.campInfo.startDate||!s.campInfo.endDate)return 0;const a=new Date(s.campInfo.startDate),e=new Date(s.campInfo.endDate),b=new Date;if(b<a)return 0;if(b>e)return 100;const h=e-a,N=b-a;return Math.round(N/h*100)},z=()=>{if(!s.campInfo||!s.campInfo.startDate)return 0;const a=new Date(s.campInfo.startDate),e=new Date;if(e<a)return 0;const b=Math.abs(e-a);return Math.ceil(b/(1e3*60*60*24))},O=()=>{const a=localStorage.getItem("userInfo");if(a)try{const e=JSON.parse(a);i.value.username=e.username||""}catch(e){console.error("解析用户信息失败:",e)}i.value.username||(i.value.username="管理员")},V=async()=>{try{const a=await Jt(d.value);if(console.log("接口返回的原始数据:",a),a.code===1&&a.data){console.log("接口返回的data数据:",a.data);const e=a.data.totalConversions??a.data.total_conversions??0,b=a.data.totalTeams??a.data.total_teams??0,h=a.data.totalAmbassadors??a.data.total_ambassadors??0,N=a.data.totalCommission??a.data.total_commission??0;s.totalConversions=e,s.totalTeams=b,s.totalAmbassadors=h,s.totalCommission=N;const A=a.data.campInfo??a.data.camp_info;A?(console.log("接口返回的campInfo数据:",A),s.campInfo={campId:A.campId??A.camp_id??"",campName:A.campName??A.camp_name??"未知营期",startDate:A.startDate??A.start_date??null,endDate:A.endDate??A.end_date??null,daysLeft:A.daysLeft??A.days_left??0}):(console.warn("接口没有返回campInfo数据"),s.campInfo={campId:"",campName:"数据未返回",startDate:null,endDate:null,daysLeft:0})}else console.error("接口返回错误:",a),te.warning(a.msg||a.message||"获取推广数据概览失败")}catch(a){throw console.error("获取推广数据概览失败:",a),te.error("获取推广数据概览失败，请稍后重试"),a}},x=async()=>{try{const a=await Kt(d.value);if(console.log("推广之星数据:",a),a.code===1&&a.data){const e=a.data.topTeams||a.data.top_teams||[],b=a.data.topAmbassadors||a.data.top_ambassadors||[];c.topTeams=e.map(h=>({teamId:h.teamId||h.team_id,teamName:h.teamName||h.team_name,leaderId:h.leaderId||h.leader_id,leaderName:h.leaderName||h.leader_name,totalConversions:h.totalConversions||h.total_conversions||0,totalCommission:h.totalCommission||h.total_commission||0,memberCount:h.memberCount||h.member_count||0,rank:h.rank||0})),c.topAmbassadors=b.map(h=>({userId:h.userId||h.user_id,userName:h.userName||h.username||h.user_name,teamId:h.teamId||h.team_id,teamName:h.teamName||h.team_name,conversions:h.conversions||0,totalCommission:h.totalCommission||h.total_commission||0,rank:h.rank||0})),Be(()=>{ne(),Z()})}else console.error("获取推广之星数据失败:",a),te.warning(a.msg||"获取推广之星数据失败")}catch(a){throw console.error("获取推广之星数据异常:",a),te.error("获取推广之星数据失败，请稍后重试"),a}},M=async()=>{try{const a=await Qt(d.value,5);if(console.log("转化趋势数据:",a),a.code===1&&a.data){m.currentCampId=a.data.currentCampId||a.data.current_camp_id||d.value;const e=a.data.trendData||a.data.trend_data||[];m.trendData=e.map(b=>({campId:b.campId||b.camp_id,campName:b.campName||b.camp_name,period:b.period,totalConversions:b.totalConversions||b.total_conversions,totalCommission:b.totalCommission||b.total_commission})),console.log("处理后的趋势数据:",m.trendData),Be(()=>{j()})}else console.error("获取转化趋势数据失败:",a),te.warning(a.msg||"获取转化趋势数据失败")}catch(a){throw console.error("获取转化趋势数据异常:",a),te.error("获取转化趋势数据失败，请稍后重试"),a}},U=async()=>{try{if(D.value){console.warn("组件已卸载，取消获取佣金数据");return}if(p.loading=!0,v.value&&v.value.__echarts__)try{ze(v.value)}catch(e){console.error("销毁旧图表失败:",e)}const a=await ea("type",d.value);if(console.log("佣金分配数据:",a),D.value){console.warn("组件在数据返回时已卸载，取消后续操作");return}if(a.code===1&&a.data){p.totalCommission=a.data.totalCommission||a.data.total_commission||0;const e=a.data.campInfo||a.data.camp_info;e&&(p.campInfo={campId:e.campId||e.camp_id,campName:e.campName||e.camp_name,startDate:e.startDate||e.start_date,endDate:e.endDate||e.end_date});const b=a.data.byType||a.data.by_type||[];p.byType=b.map(h=>({type:h.type,typeName:h.typeName||h.type_name,amount:h.amount,count:h.count,percentage:h.percentage})),D.value||setTimeout(()=>{ie()},100)}else console.error("获取佣金分配数据失败:",a),D.value||te.warning(a.msg||"获取佣金分配数据失败")}catch(a){console.error("获取佣金分配数据异常:",a),D.value||te.error("获取佣金分配数据失败，请稍后重试")}finally{D.value||(p.loading=!1)}},ne=()=>{if(!u.value||(f&&f.dispose(),!c.topTeams||c.topTeams.length===0))return;f=Ie(u.value);const a=c.topTeams.slice(0,5);console.log("团队图表数据:",a);const e=a.map(A=>A.teamName||"未知团队"),b=a.map(A=>A.totalConversions||0);a.map(A=>A.totalCommission||0);const h={title:{text:"最佳推广团队",left:"center",textStyle:{fontSize:16,fontWeight:"bold",color:"#303133"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(A){const S=a[A[0].dataIndex];return`
          <div style="font-weight:bold;margin-bottom:5px;">${S.teamName||"未知团队"}</div>
          <div>转化数: ${S.totalConversions||0}</div>
          <div>佣金: ¥${(S.totalCommission||0).toFixed(2)}</div>
          <div>成员数: ${S.memberCount||0}</div>
          <div>排名: ${S.rank||"-"}</div>
        `}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{interval:0,rotate:30}},yAxis:{type:"value",name:"转化数"},series:[{name:"转化数",type:"bar",data:b,itemStyle:{color:new Ce(0,0,0,1,[{offset:0,color:"#409EFF"},{offset:1,color:"#53a8ff"}])},emphasis:{itemStyle:{color:new Ce(0,0,0,1,[{offset:0,color:"#53a8ff"},{offset:1,color:"#409EFF"}])}},barWidth:"40%"}]};f.setOption(h);const N=()=>{f&&!D.value&&f.resize()};window.addEventListener("resize",N)},Z=()=>{if(!w.value||(y&&y.dispose(),!c.topAmbassadors||c.topAmbassadors.length===0))return;y=Ie(w.value);const a=c.topAmbassadors.slice(0,5);console.log("推广大使图表数据:",a);const e=a.map(A=>A.userName||"未知"),b=a.map(A=>A.conversions||0),h={title:{text:"最佳推广大使",left:"center",textStyle:{fontSize:16,fontWeight:"bold",color:"#303133"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(A){const S=a[A[0].dataIndex];return`
          <div style="font-weight:bold;margin-bottom:5px;">${S.userName||"未知"}</div>
          <div>转化数: ${S.conversions||0}</div>
          <div>佣金: ¥${(S.totalCommission||0).toFixed(2)}</div>
          <div>团队: ${S.teamName||"无团队"}</div>
          <div>排名: ${S.rank||"-"}</div>
        `}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:e,axisLabel:{interval:0,rotate:30}},yAxis:{type:"value",name:"转化数"},series:[{name:"转化数",type:"bar",data:b,itemStyle:{color:new Ce(0,0,0,1,[{offset:0,color:"#E6A23C"},{offset:1,color:"#F0C78A"}])},emphasis:{itemStyle:{color:new Ce(0,0,0,1,[{offset:0,color:"#F0C78A"},{offset:1,color:"#E6A23C"}])}},barWidth:"40%"}]};y.setOption(h);const N=()=>{y&&!D.value&&y.resize()};window.addEventListener("resize",N)},j=()=>{if(!_.value){console.warn("趋势图表容器不存在");return}if(g&&g.dispose(),!m.trendData||m.trendData.length===0){console.warn("没有趋势数据可供渲染");return}try{g=Ie(_.value)}catch(C){console.error("初始化趋势图表失败:",C);return}const a=m.trendData;console.log("准备渲染的趋势数据:",a);const e=a.every(C=>!!C.campName),b=a.every(C=>typeof C.totalConversions=="number"),h=a.every(C=>typeof C.totalCommission=="number");(!e||!b||!h)&&console.error("趋势数据格式不正确:",{hasValidCampName:e,hasValidConversions:b,hasValidCommissions:h,sampleData:a[0]});const N=a.map(C=>C.campName),A=a.map(C=>C.totalConversions),S=a.map(C=>C.totalCommission);console.log("趋势图表数据:",{periods:N,conversions:A,commissions:S});const q={title:{text:"转化趋势分析",left:"center",textStyle:{fontSize:16,fontWeight:"bold",color:"#303133"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},formatter:function(C){const F=a[C[0].dataIndex];return`
          <div style="font-weight:bold;margin-bottom:5px;">${F.campName}</div>
          <div>时间: ${F.period}</div>
          <div>转化数: ${F.totalConversions}</div>
          <div>佣金总额: ¥${F.totalCommission.toFixed(2)}</div>
        `}},legend:{data:["转化数"],top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:N},yAxis:{type:"value",name:"转化数"},series:[{name:"转化数",type:"line",data:A,smooth:!0,showSymbol:!0,symbolSize:8,lineStyle:{width:3,color:"#67C23A"},itemStyle:{color:"#67C23A",borderWidth:2},areaStyle:{color:new Ce(0,0,0,1,[{offset:0,color:"rgba(103, 194, 58, 0.5)"},{offset:1,color:"rgba(103, 194, 58, 0.1)"}])}}]};try{g.setOption(q),console.log("趋势图表渲染成功"),g.resize()}catch(C){console.error("设置趋势图表选项失败:",C)}const J=()=>{g&&!D.value&&g.resize()};window.addEventListener("resize",J)},ie=()=>{if(D.value){console.warn("组件已卸载，取消渲染佣金图表");return}if(!v.value){console.warn("佣金图表容器不存在");return}const a=p.byType||[];if(a.length===0){console.warn("没有佣金分配数据可供渲染");return}if(v.value.__echarts__)try{ze(v.value)}catch(e){console.error("销毁旧图表实例失败:",e)}try{const e=Ie(v.value),b=a.map(S=>({name:S.typeName,value:S.amount,percentage:S.percentage,count:S.count})),h=["#4E79A7","#F28E2B","#E15759","#76B7B2","#59A14F","#EDC948","#B07AA1","#FF9DA7","#9C755F","#BAB0AC"],N={backgroundColor:"#f8f9fa",title:{text:"佣金分配分析",subtext:`总佣金: ¥${p.totalCommission.toFixed(2)}`,left:"center",top:10,textStyle:{fontSize:16,fontWeight:"bold",color:"#303133"},subtextStyle:{fontSize:12,color:"#909399"}},tooltip:{trigger:"item",formatter:function(S){return`
            <div style="font-weight:bold;margin-bottom:5px;">${S.name}</div>
            <div>金额: ¥${S.value.toFixed(2)}</div>
            <div>比例: ${S.data.percentage}%</div>
            <div>记录数: ${S.data.count}</div>
          `}},legend:{orient:"vertical",left:"5%",top:"middle",textStyle:{fontSize:12},itemWidth:10,itemHeight:10,itemGap:8},color:h,series:[{name:"佣金分配",type:"pie",radius:["40%","70%"],center:["65%","55%"],avoidLabelOverlap:!0,data:b,label:{show:!1,position:"center"},labelLine:{show:!1,length:0,length2:0},emphasis:{label:{show:!1},labelLine:{show:!1},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(S){return Math.random()*200}}]};e.setOption(N);const A=()=>{!D.value&&e&&e.resize()};return window.addEventListener("resize",A),()=>{if(window.removeEventListener("resize",A),e)try{e.dispose()}catch(S){console.error("清理图表实例失败:",S)}}}catch(e){console.error("初始化或渲染图表失败:",e),te.error("图表渲染失败，请刷新页面重试")}},H=()=>{$()},Q=()=>{r.value||t.value||c.loading||(d.value--,$())},Y=()=>{r.value||t.value||c.loading||(d.value++,$())},$=()=>{r.value||t.value||c.loading||m.loading||(t.value=!0,r.value=!0,c.loading=!0,c.topTeams=[],c.topAmbassadors=[],m.loading=!0,m.trendData=[],console.log("开始刷新数据，当前营期ID:",d.value),Promise.all([V(),x(),M(),U()]).catch(a=>{console.error("数据刷新失败:",a),te.error("数据刷新失败，请稍后重试")}).finally(()=>{t.value=!1,r.value=!1,c.loading=!1,m.loading=!1}))},P=()=>{const a=o.value;if(!a)return;const e=a.getContext("2d"),b=[];let h=null;const N=()=>{const C=a.parentElement;a.width=C.offsetWidth,a.height=C.offsetHeight};window.addEventListener("resize",N),N();class A{constructor(){this.x=Math.random()*a.width,this.y=Math.random()*a.height,this.size=Math.random()*2+.5,this.speedX=Math.random()*.5-.25,this.speedY=Math.random()*.5-.25,this.color=`rgba(64, 158, 255, ${Math.random()*.4+.1})`}update(){(this.x>a.width||this.x<0)&&(this.speedX=-this.speedX),(this.y>a.height||this.y<0)&&(this.speedY=-this.speedY),this.x+=this.speedX,this.y+=this.speedY}draw(){e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fill()}}const S=()=>{for(let C=0;C<15;C++)b.push(new A)},q=()=>{e.clearRect(0,0,a.width,a.height),b.forEach(C=>{C.update(),C.draw()}),J(),h=requestAnimationFrame(q)},J=()=>{for(let C=0;C<b.length;C++)for(let F=C+1;F<b.length;F++){const le=b[C].x-b[F].x,ce=b[C].y-b[F].y,de=Math.sqrt(le*le+ce*ce);de<100&&(e.beginPath(),e.strokeStyle=`rgba(64, 158, 255, ${.2-de/500})`,e.lineWidth=.8,e.moveTo(b[C].x,b[C].y),e.lineTo(b[F].x,b[F].y),e.stroke())}};return S(),q(),()=>{window.removeEventListener("resize",N),h&&cancelAnimationFrame(h)}},E=ee(null);return ct(()=>{D.value=!1,O(),E.value=P(),setTimeout(()=>{$()},100);const a=()=>{if(!D.value){if(g)try{g.resize()}catch(e){console.error("调整趋势图表大小失败:",e)}if(v.value&&v.value.__echarts__)try{v.value.__echarts__.resize()}catch(e){console.error("调整佣金图表大小失败:",e)}}};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}}),dt(()=>{if(D.value=!0,console.log("组件被卸载，已设置isComponentUnmounted标志"),E.value&&typeof E.value=="function"&&E.value(),typeof teamChartResizeHandler=="function"&&window.removeEventListener("resize",teamChartResizeHandler),typeof ambassadorChartResizeHandler=="function"&&window.removeEventListener("resize",ambassadorChartResizeHandler),typeof trendsChartResizeHandler=="function"&&window.removeEventListener("resize",trendsChartResizeHandler),[f,y,g].forEach(e=>{if(e)try{e.dispose()}catch(b){console.error("清理图表实例时出错:",b)}}),v.value&&v.value.__echarts__)try{ze(v.value)}catch(e){console.error("清理佣金图表实例时出错:",e)}f=null,y=null,g=null}),(a,e)=>{var F;const b=pe("el-tag"),h=pe("el-icon"),N=pe("el-button"),A=pe("el-tooltip"),S=pe("el-input"),q=pe("el-card"),J=pe("el-empty"),C=mt("loading");return ae(),re("div",ba,[L(wt,{activePage:"dashboard"}),l("div",_a,[l("div",wa,[l("canvas",{ref_key:"welcomeCanvas",ref:o,class:"welcome-canvas"},null,512),l("div",Ca,[l("h2",Da,[Ve("欢迎！"+K(i.value.username)+" ",1),L(b,{type:"danger"},{default:W(()=>e[1]||(e[1]=[Ve("系统管理员")])),_:1})])]),l("div",Aa,[L(A,{content:"刷新数据",placement:"bottom",disabled:r.value},{default:W(()=>[L(N,{class:"refresh-btn",disabled:r.value,onClick:$,type:"primary",circle:"",loading:r.value},{default:W(()=>[L(h,{size:22},{default:W(()=>[L(ge(ft))]),_:1})]),_:1},8,["disabled","loading"])]),_:1},8,["disabled"])])]),we((ae(),re("div",Sa,[we((ae(),vt(q,{class:"overview-card"},{default:W(()=>{var le,ce,de,ve;return[l("div",xa,[l("div",Ia,[e[7]||(e[7]=l("h3",{class:"section-title"},"当前营期",-1)),l("div",La,[l("div",Ta,[l("span",Na,K(((le=s.campInfo)==null?void 0:le.campName)||"加载中..."),1)]),l("div",Ma,[l("div",Pa,[l("div",za,[l("span",ka,K(T((ce=s.campInfo)==null?void 0:ce.startDate)),1),l("span",Ea,K(T((de=s.campInfo)==null?void 0:de.endDate)),1)]),l("div",Ra,[l("div",{class:"timeline-progress",style:Fe({width:k()+"%"})},null,4),l("div",{class:"timeline-indicator",style:Fe({left:k()+"%"})},null,4)])])]),l("div",Oa,[l("div",$a,[e[2]||(e[2]=l("span",{class:"progress-label"},"已进行:",-1)),l("span",Va,K(z())+"天",1)]),e[5]||(e[5]=l("div",{class:"progress-divider"},null,-1)),l("div",Fa,[e[3]||(e[3]=l("span",{class:"progress-label"},"剩余:",-1)),l("span",Ba,K(((ve=s.campInfo)==null?void 0:ve.daysLeft)||0)+"天",1)]),e[6]||(e[6]=l("div",{class:"progress-divider"},null,-1)),l("div",Ga,[e[4]||(e[4]=l("span",{class:"camp-id-label"},"营期ID:",-1)),l("div",Ha,[l("span",Ua,K(d.value),1),l("div",Ya,[L(S,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=me=>d.value=me),size:"small",onBlur:H,onKeyup:ut(H,["enter"]),class:"camp-id-input-hover"},null,8,["modelValue"])])])])]),l("div",Wa,[L(A,{content:"查看上一个营期",placement:"top"},{default:W(()=>[L(N,{class:"camp-nav-btn prev-btn",disabled:r.value,onClick:Q,type:"primary",circle:""},{default:W(()=>[L(h,{size:20},{default:W(()=>[L(ge(ht))]),_:1})]),_:1},8,["disabled"])]),_:1}),L(A,{content:"查看下一个营期",placement:"top"},{default:W(()=>[L(N,{class:"camp-nav-btn next-btn",disabled:r.value,onClick:Y,type:"primary",circle:""},{default:W(()=>[L(h,{size:20},{default:W(()=>[L(ge(pt))]),_:1})]),_:1},8,["disabled"])]),_:1})])])]),e[21]||(e[21]=l("div",{class:"section-divider"},null,-1)),l("div",Xa,[e[20]||(e[20]=l("h3",{class:"section-title"},"推广数据统计",-1)),l("div",ja,[l("div",qa,[e[10]||(e[10]=l("div",{class:"stat-icon conversions-icon"},[l("i",{class:"el-icon-data-line"})],-1)),l("div",Za,[e[8]||(e[8]=l("div",{class:"stat-title"},"总转化数",-1)),l("div",Ja,K(s.totalConversions||0),1),e[9]||(e[9]=l("div",{class:"stat-desc"},"当前营期转化",-1))])]),l("div",Ka,[e[13]||(e[13]=l("div",{class:"stat-icon teams-icon"},[l("i",{class:"el-icon-s-cooperation"})],-1)),l("div",Qa,[e[11]||(e[11]=l("div",{class:"stat-title"},"推广团队数",-1)),l("div",es,K(s.totalTeams||0),1),e[12]||(e[12]=l("div",{class:"stat-desc"},"活跃团队总数",-1))])]),l("div",ts,[e[16]||(e[16]=l("div",{class:"stat-icon ambassadors-icon"},[l("i",{class:"el-icon-user"})],-1)),l("div",as,[e[14]||(e[14]=l("div",{class:"stat-title"},"推广大使数",-1)),l("div",ss,K(s.totalAmbassadors||0),1),e[15]||(e[15]=l("div",{class:"stat-desc"},"参与推广人数",-1))])]),l("div",ns,[e[19]||(e[19]=l("div",{class:"stat-icon commission-icon"},[l("i",{class:"el-icon-money"})],-1)),l("div",rs,[e[17]||(e[17]=l("div",{class:"stat-title"},"总佣金金额",-1)),l("div",os,"¥"+K(I(s.totalCommission)),1),e[18]||(e[18]=l("div",{class:"stat-desc"},"已发放佣金",-1))])])])])])]}),_:1})),[[C,r.value]])])),[[C,t.value]]),we((ae(),re("div",is,[l("div",ls,[l("div",cs,[l("h2",null,"推广之星 - "+K(((F=s.currentCamp)==null?void 0:F.campName)||"当前营期"),1),e[22]||(e[22]=l("span",{class:"subtitle"},"展示当前营期的最佳团队和推广大使数据",-1))])]),l("div",ds,[l("div",vs,[l("div",ms,[L(h,{class:"trophy-icon"},{default:W(()=>[L(ge(gt))]),_:1})]),l("div",{class:"chart-content",ref_key:"teamChartRef",ref:u},[!c.loading&&(!c.topTeams||c.topTeams.length===0)?(ae(),re("div",us,[L(J,{description:"暂无团队数据"})])):Ae("",!0)],512)]),l("div",fs,[l("div",hs,[L(h,{class:"medal-icon"},{default:W(()=>[L(ge(yt))]),_:1})]),l("div",{class:"chart-content",ref_key:"ambassadorChartRef",ref:w},[!c.loading&&(!c.topAmbassadors||c.topAmbassadors.length===0)?(ae(),re("div",ps,[L(J,{description:"暂无推广大使数据"})])):Ae("",!0)],512)])])])),[[C,c.loading]]),l("div",gs,[we((ae(),re("div",ys,[e[23]||(e[23]=l("div",{class:"chart-header"},[l("div",{class:"title"},[l("h2",null,"转化趋势分析"),l("span",{class:"subtitle"},"展示多个营期的转化数据变化趋势")])],-1)),l("div",bs,[l("div",_s,[l("div",ws,[L(h,{class:"trend-icon"},{default:W(()=>[L(ge(bt))]),_:1})]),l("div",{class:"trends-chart-content",ref_key:"trendsChartRef",ref:_},[!m.loading&&(!m.trendData||m.trendData.length===0)?(ae(),re("div",Cs,[L(J,{description:"暂无趋势数据"})])):Ae("",!0)],512)])])])),[[C,m.loading]]),we((ae(),re("div",Ds,[e[24]||(e[24]=l("div",{class:"chart-header"},[l("div",{class:"title"},[l("h2",null,"佣金分配分析"),l("span",{class:"subtitle"},"展示当前营期的佣金分配情况")])],-1)),l("div",As,[l("div",Ss,[l("div",xs,[L(h,{class:"money-icon"},{default:W(()=>[L(ge(_t))]),_:1})]),l("div",{class:"commission-chart-content",ref_key:"commissionChartRef",ref:v},[!p.loading&&(!p.byType||p.byType.length===0)?(ae(),re("div",Is,[L(J,{description:"暂无佣金分配数据"})])):Ae("",!0)],512)])])])),[[C,p.loading]])])])])}}},Ps=lt(Ls,[["__scopeId","data-v-8bd8d5eb"]]);export{Ps as default};
